"use strict";(self["webpackChunkblackhole"]=self["webpackChunkblackhole"]||[]).push([[658],{8575:function(t,s,a){a.r(s),a.d(s,{default:function(){return w}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mine"},[s("div",{staticClass:"userInfo"},[s("div",{staticClass:"flexBox"},[s("div",{staticClass:"myLevel flexBox_left"},[t._m(0),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_one"},[t._v(t._s(t.$t("main.myLevel")))]),s("span",{staticClass:"span_two"},[t._v("V"+t._s(t.level))])])]),s("div",{staticClass:"confirmBtn",on:{click:t.upgrade}},[t._v(t._s(t.$t("main.upgrade")))]),s("div",{staticClass:"confirmBtn",on:{click:t.claim}},[t._v(t._s(t.$t("main.claim")))])]),s("div",{staticClass:"balanceBox"},[s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.usdtBalance")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.USDTBalance)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.BHBalance")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.HDBalance)))])])]),s("img",{staticClass:"bgImg",attrs:{src:a(3427)}})]),s("div",{staticClass:"userInfo flexBox_left"},[s("div",{staticClass:"myLevel flexBox_left"},[t._m(1),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_one font"},[t._v(t._s(t.$t("main.zhituizongrenshu")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.redirectAmount)))])])]),s("div",{staticClass:"myLevel flexBox_left"},[t._m(2),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_one font"},[t._v(t._s(t.$t("main.tuanduirenshu")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.teamAmount)))])])])]),s("div",{staticClass:"myBox",staticStyle:{padding:"20px 5px"}},[s("div",{staticClass:"line"},[s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.myLPPower")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.LPPower)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.myBHReward")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.BHReward)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.yifenhongBHshu")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.claimedBH)))])])]),s("div",{staticClass:"line",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.myLevelPower")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.levelPower)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.myUSDTReward")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.USDTReward)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.yifenhongushu")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.claimedUSDT)))])])]),s("div",{staticClass:"line",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.kegoumaizonge")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.teamReward)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.shengyugoumaie")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.canBuyUSDTAmount)))])]),s("div",{staticClass:"balanceItm"},[s("span",[t._v(t._s(t.$t("main.jinrikejiaoyie")))]),s("span",{staticClass:"span_two"},[t._v(t._s(t.getCount(t.canExchangeAmount)))])])])]),s("div",{staticClass:"myBox"},[s("div",{staticClass:"myLevel flexBox_left"},[t._m(3),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_one"},[t._v(t._s(t.$t("main.wodeyaoinglianjie")))]),s("div",{staticClass:"span_two",on:{click:t.copy}},[s("span",{staticClass:"linkTxt"},[t._v(t._s(t.readRef(t.myRef)||"- -"))]),t.myRef?s("img",{staticStyle:{"vertical-align":"top"},attrs:{src:a(4924),alt:""}}):t._e()])])])]),s("div",{staticClass:"myBox"},[s("div",{staticClass:"myLevel flexBox_left"},[t._m(4),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_one"},[t._v(t._s(t.$t("main.wodeshangji")))]),s("div",{staticClass:"span_two"},[s("span",{staticClass:"linkTxt"},[t._v(t._s(t.myLeader||"- -"))])])])])]),s("div",{staticClass:"myBox"},[s("div",{staticClass:"flexBox"},[s("div",{staticClass:"myLevel flexBox_left"},[t._m(5),s("div",{staticClass:"levelBox"},[s("span",{staticClass:"span_two",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.wodezhituituandui")))])])]),s("div",{staticClass:"openBtn",on:{click:t.showMore}},[t._v(" "+t._s(t.showFlag?t.$t("main.shouqi"):t.$t("main.zhankai"))+" "),s("img",{style:{transform:t.showFlag?"rotate(270deg)":"rotate(90deg)"},attrs:{src:a(8813),alt:""}})])]),t.showFlag?s("div",{staticClass:"tableBox"},[s("div",{staticClass:"tableHead"},[s("span",[t._v(t._s(t.$t("main.address")))]),s("span",[t._v(t._s(t.$t("main.dengji")))]),s("span",[t._v(t._s(t.$t("main.zhituirenshu")))])]),t.addrList.length?s("div",{staticStyle:{color:"#fff"}},t._l(t.addrList,(function(a){return s("div",{key:a.addr,staticClass:"tableHead"},[s("span",[t._v(t._s(a.addr))]),s("span",[t._v("V"+t._s(a.level))]),s("span",[t._v(t._s(a.count))])])})),0):s("div",{staticClass:"noData"},[t._v(t._s(t.$t("main.noData")))])]):t._e()])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(3816),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(4916),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(7828),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(846),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(4916),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"iconBox flexBox"},[s("img",{attrs:{src:a(3816),alt:""}})])}],n=(a(2885),a(5439)),l=(a(560),a(4950)),o=a(9017),c=a(4423),d=a(4213),r=a(5567),m=a.n(r),v={name:"mine-page",data(){return{level:0,USDTBalance:"- -",HDBalance:"- -",redirectAmount:"- -",teamAmount:"- -",LPPower:"- -",myLeader:"- -",BHReward:"- -",claimedBH:"- -",levelPower:"- -",USDTReward:"- -",claimedUSDT:"- -",canBuyUSDTAmount:"- -",canExchangeAmount:"- -",teamReward:"- -",myRef:"",showFlag:!1,addrList:[]}},mounted(){this.$store.state.isConnect&&this.init()},methods:{getCount(t){return Number(t)>1e4?(0,c.Z)(Number(t)/1e4).toFixed(2)+"W":t},async init(){window.$initLoading.open(),this.USDTBalance=(0,c.Z)(await(0,l.yX)(o.GG)).div(1e18).toFixed(1),this.HDBalance=(0,c.Z)(await(0,l.yX)(o.tx)).div(1e18).toFixed(1);const t=new d.HD,s=await t.queryUser();this.level=s.level,this.redirectAmount=s.redirects.length,this.teamAmount=s.childCount,this.LPPower=(0,c.Z)(s.lpPower).div(1e18).toFixed(1),this.BHReward=(0,c.Z)(s.totalLPReward).div(1e18).toFixed(1),this.levelPower=(0,c.Z)(s.levelPower).div(1e18).toFixed(1),this.USDTReward=(0,c.Z)(s.totalLevelReward).div(1e18).toFixed(1),this.claimedBH=(0,c.Z)(s.claimedHDReward).div(1e18).toFixed(1),this.claimedUSDT=(0,c.Z)(s.claimedUSDTReward).div(1e18).toFixed(1),this.teamReward=(0,c.Z)(s.teamReward).div(1e18).toFixed(1),this.canBuyUSDTAmount=(0,c.Z)(s.canBuyUSDTAmount).div(1e18).toFixed(1),Number(this.level)<1?this.canExchangeAmount="0.0":this.canExchangeAmount=(0,c.Z)(s.canExchangeAmount).div(1e18).toFixed(1);const a=[];for(const i in s.redirects){const t=s.redirects[i],e=t.slice(0,7)+"*****"+t.slice(33);a.push({addr:e,level:s.redirectlevels[i],count:s.redirectCounts[i]})}this.addrList=a,this.level>0&&(this.myRef=window.location.origin+"/?ref="+m().utils.toChecksumAddress(window.ethereum.selectedAddress));const e=(await t.getUsers()).leader;this.myLeader="0x0000000000000000000000000000000000000000"==e?"- -":e.slice(0,7)+"***"+e.slice(36),window.$initLoading.close()},readRef(t){const s=t.length;return t.slice(0,11)+"***"+t.slice(s-4)},copy(){if(0===Number(this.level))return void n.Z.fail({message:"请先升级",duration:2e3});const t=document.createElement("input");t.setAttribute("readonly","readonly"),t.setAttribute("value",this.myRef),document.body.appendChild(t),t.select(),t.setSelectionRange(0,9999),document.execCommand("copy")&&(document.execCommand("copy"),n.Z.success({message:"复制成功",duration:2e3})),document.body.removeChild(t)},async upgrade(){if((new Date).getTime()<window.blackInitTime)this.$toast.fail({message:"暂未上线",duration:2e3});else if(o.hx[this.level]>Number(this.USDTBalance))n.Z.fail({message:"余额不足",duration:2e3});else if(12!=this.level){window.$requestLoading.open();try{const t=new d.HD;await t.upgrade(this.getRef()),window.$requestLoading.close(),n.Z.success({message:"升级成功",duration:2e3}),await new Promise((t=>{setTimeout((()=>{t()}),2e3)})),this.init()}catch(t){console.log(t),window.$requestLoading.close(),n.Z.fail({message:"升级失败",duration:2e3})}}else n.Z.fail({message:"已经是最高等级",duration:2e3})},async claim(){if((new Date).getTime()<window.blackInitTime)return void this.$toast.fail({message:"暂未上线",duration:2e3});if(0===Number(this.level))return void n.Z.fail({message:"请先升级",duration:2e3});const t=new d.HD;window.$requestLoading.open();try{await t.claim(),window.$requestLoading.close(),n.Z.success({message:"领取成功",duration:2e3}),await new Promise((t=>{setTimeout((()=>{t()}),1e3)})),this.init()}catch(s){console.log(s),window.$requestLoading.close(),n.Z.fail({message:"领取失败",duration:2e3})}},getRef(){const t=window.location.search,s=t.indexOf("?ref=");if(-1===s)return"";let a=t.slice(s+5,s+5+42);return a=m().utils.toChecksumAddress(a),m().utils.checkAddressChecksum(a)?a:""},showMore(){this.showFlag=!this.showFlag}},watch:{"$store.state.isConnect"(t){t&&this.init()}}},u=v,_=a(1001),C=(0,_.Z)(u,e,i,!1,null,"5bc32336",null),w=C.exports}}]);